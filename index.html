<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growing Flower Animation</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .bouquet {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 50px;
            opacity: 0;
            visibility: hidden; /* Ensure bouquet is hidden initially */
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
        }

        .flower {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            visibility: hidden; /* Ensure flower is hidden initially */
            transform: scale(0); /* Start from a smaller size */
            transition: opacity 2s ease-in-out, visibility 2s ease-in-out, transform 2s ease-in-out;
        }

        .stem {
            width: 6px;
            height: 0;
            background: linear-gradient(180deg, #00ffcc, #006644);
            border-radius: 3px;
            box-shadow: 0 0 10px #00ffcc;
            position: relative;
            transition: height 2s ease-in-out;
        }

        .leaf {
            position: absolute;
            width: 50px;
            height: 20px;
            background: linear-gradient(90deg, #00ffcc, #003322);
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0;
            transition: opacity 2s ease-in-out, transform 2s ease-in-out;
        }

        .leaf:nth-child(1) {
            top: 40%;
            left: -50px;
            transform: rotate(-30deg);
            transition-delay: 2s;
        }

        .leaf:nth-child(2) {
            top: 60%;
            left: 20px;
            transform: rotate(30deg);
            transition-delay: 2s;
        }

        .flower-head {
            position: absolute;
            top: -20px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ff99ff, #ff0099);
            border-radius: 50%;
            box-shadow: 0 0 15px #ff66ff, 0 0 30px #ff0099;
            opacity: 0;
            visibility: hidden;
            transition: opacity 2s ease-in-out, transform 2s ease-in-out;
            transition-delay: 2s;
        }

        .button {
            padding: 15px 30px;
            background-color: #ff66ff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #ff33cc;
        }

        /* Media query for screens <= 600px */
        @media (max-width: 600px) {
            .bouquet {
                gap: 30px; /* Reduce the gap between flowers */
                flex-direction: column; /* Stack flowers vertically */
                align-items: center; /* Center flowers */
            }

            .flower-head {
                width: 60px; /* Smaller flower head */
                height: 60px;
                top: -10px; /* Adjust positioning of the flower head */
            }

            .stem {
                height: 120px; /* Shorter stem */
            }

            .leaf {
                width: 40px; /* Smaller leaves */
                height: 15px;
            }

            canvas {
                display: block;
            }
        }
    </style>
</head>
<body>
    <canvas id="stars"></canvas>

    <div class="bouquet">
        <div class="flower">
            <div class="stem"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="flower-head"></div>
        </div>
        <div class="flower">
            <div class="stem"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="flower-head"></div>
        </div>
        <div class="flower">
            <div class="stem"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="flower-head"></div>
        </div>
        <div class="flower">
            <div class="stem"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="flower-head"></div>
        </div>
        <div class="flower">
            <div class="stem"></div>
            <div class="leaf"></div>
            <div class="leaf"></div>
            <div class="flower-head"></div>
        </div>
    </div>

    <button class="button" onclick="openGift()">Open the Gift</button>

    <script>
        const canvas = document.getElementById('stars');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const stars = Array.from({ length: 200 }, () => ({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: Math.random() * 2 + 0.5,
            opacity: Math.random() * 0.7 + 0.3,
            speed: Math.random() * 0.5 + 0.2
        }));

        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                ctx.fill();
                star.y += star.speed;

                if (star.y > canvas.height) {
                    star.y = 0;
                    star.x = Math.random() * canvas.width;
                }
            });
        }

        function animateStars() {
            drawStars();
            requestAnimationFrame(animateStars);
        }

        animateStars();

        function openGift() {
            const bouquet = document.querySelector('.bouquet');
            bouquet.style.opacity = 1;
            bouquet.style.visibility = 'visible'; // Show bouquet

            const flowers = document.querySelectorAll('.flower');
            flowers.forEach((flower, index) => {
                const stem = flower.querySelector('.stem');
                const leaves = flower.querySelectorAll('.leaf');
                const flowerHead = flower.querySelector('.flower-head');

                setTimeout(() => {
                    flower.style.opacity = 1;
                    flower.style.visibility = 'visible'; // Make flower visible
                    flower.style.transform = 'scale(1)'; // Animate to full size

                    setTimeout(() => {
                        stem.style.height = '200px'; // Grow stem
                    }, index * 500);

                    setTimeout(() => {
                        leaves.forEach(leaf => {
                            leaf.style.opacity = 1;
                            leaf.style.transform = 'scale(1)';
                        });
                        flowerHead.style.opacity = 1;
                        flowerHead.style.visibility = 'visible';
                        flowerHead.style.transform = 'scale(1)';
                    }, (index + 1) * 1500);
                }, index * 500);
            });
        }
    </script>
</body>
</html>
